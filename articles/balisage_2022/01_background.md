## Introduction

staticSearch is an open-source search engine for static websites. It is made up of two distinct, albeit interdependent, parts: an XSLT-based indexer and a JavaScript client-side query retrieval and display system. While our initial expectation was that staticSearch would be practical for smaller sites and perhaps not realistic for our larger ones which have tens of thousands of documents, our pessimism has proved unwarranted. Now nearing its second major release, staticSearch has become a core part of over a dozen project, many of which quite large, and its performance has surprised us. 

## Background: Endings

The Endings project is a SSHRC-funded collaboration between scholars, programmers and librarians to devise and implement guidelines and practices that ensure the long-term survival and archivability of digital edition projects, not just as data but as functioning web applications. In the first phase of the project, we converted numerous projects, which ranged from small collections of texts to densely interlinked documents and datasets, from eXist-db backends into entirely static sites consisting only of HTML, CSS and JavaScript [@HolmesTakeda2019a; @HolmesTakeda2019b; @HolmesTakedaForthcoming].

Having demonstrated the feasibility of building large sites which are both static and interactive, we were left with one remaining issue: how to provide a search engine for our collections without adding an unwanted technical debt in the form of a server-side backend. Searching is often an essential component of digital edition projects and most, if not all, of our projects are built with the assumption that there will be some sort of searching ability available in the future; much of our encoding work is predicated on the notion that good, clean encoding produces not only better texts, but ones more amenable to complex and specific querying in the future. These projects thus require robust search mechanisms that can allow for a range of queries—from simple word searches to complex faceted searches—to aid in both the usability and discoverability of documents. 

## Background: Existing Solutions

While there are many server-side ways to achieve these results (eXist and Solr being some of the most popular), there is a lack of good options when it comes to integrating search in to static websites. We tested a number of approaches, including invoking Google Custom Search Engine (CSE), which the authors of O’Reilly's introduction to static website development nominate as the best solution and the "undisputed king of search" [@CamdenRinaldi2017], and hooking into a centralized Library-run Solr indexer [@HolmesTakeda2017], but all of these systems had significant drawbacks. External services, like Google CSE and the Library's Solr, are not only fragile, but also difficult to customize for our needs and challenging to update. Simpler JavaScript implementations, like Lunr.js [@Nightingale2011], have been used by others within the digital humanities invested in static site building [@WikleWilliamsonBecker2020] and were initially more promsing, but were ultimately incompatible with our projects. Where Lunr.js and others are primarily Node/JavaScript libraries built for popular static site generators, like Jekyll or Hugo, that indexed collections of Markdown pages, what we needed was something that could be easily integrated within our own XML-based processing pipelines and that could not only cope with but also take advantage of the encoding embedded within our collection of HTML documents. 

There are many Python and JavaScript implementations of stemmers, indexers, and tokenizers and that could be fashioned together to serve our purposes, but these could not be easily integrated into our XML-based processing pipelines; one can graft these technologies on to existing builds, but doing so adds significant complexity that, as we discovered, was unnecessary. XSLT offers a "modern, powerful static website generator" [@KraetkeImsieske2016] that is not only the best tool for parsing XHTML documents, but, with the advent of XSLT 3.0, can easily faciliate the creation of large JSON datasets. 





